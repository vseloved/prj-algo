# Занятие 17 - Кодирование

## Задачи кодирования

- сохранение и передача данных в воспроизводимой форме
- сжатие данных
- скрытие данных от посторонних (шифрование)
- обеспечение целостности данных при передача, а также, возможно, коррекции ошибок передачи данных


## Кодирование для сохранения и передачи данных

На этом уровне различают кодировки и форматы представления данных.

Кодировки: ASCII, UTF-8, [Base64]()

Форматы представления данных бывают:

- бинарные
- текстовые

Преимущество бинарных — большая компактность и скорость обработки. Недостаток — сложная отладка и эксперименты, не читаемые людьми.

- со хсемой
- без схемы

Бинарные форматы, как правило, требуют наличия схемы, хотя есть форматы без схемы, например MessagePack. Схема обеспечивает более быстрое декодирование, более компактное представление, а также возможность валидации блока данных на соответствие формату. Однако, она также затрудняет изменения.

Примеры форматов представления данных:

- примитивные форматы, такие как CSV
- JSON, Avro (JSON со схемой), Transit
- BSON, BJSON, MessagePack (бинарные варианты JSON)
- XML и основанные на нем форматы
- бинарные форматы: Protocol Bufffers, Thrift, ASN.1


## Алгоритмы сжатия

[Энтропия](https://ru.wikipedia.org/wiki/%D0%98%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D0%B0%D1%8F_%D1%8D%D0%BD%D1%82%D1%80%D0%BE%D0%BF%D0%B8%D1%8F) — мера неожиданности/случайности какого-то набора данных.

Набор, состоящий из одинаковых символов имеет наименьшую энтропию, в то время, как набор состояший из равновероятно распределенных случайных символов имеет наибольшую энтропию.

Алгоритмы сжатия пытаются представить данные так, чтобы их энтропия была наибольшей. В таком случае можно использовать наиболее компактное представление отдельных элементов (символов), т.к. общий объем, который занимает весь набор, уменьшится.

Алгоритмы сжатия бывают такими, которые кодируют отдельные символы, а также символы и из последовательности.

На уровне символов работают:

- [Кодирование Хаффмана](https://ru.wikipedia.org/wiki/%D0%9A%D0%BE%D0%B4_%D0%A5%D0%B0%D1%84%D1%84%D0%BC%D0%B0%D0%BD%D0%B0)
- [Арифметическое кодирование](https://ru.wikipedia.org/wiki/%D0%90%D1%80%D0%B8%D1%84%D0%BC%D0%B5%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5_%D0%BA%D0%BE%D0%B4%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5)

На уровне последовательностей:

- [Алгоритм LZW](https://ru.wikipedia.org/wiki/%D0%90%D0%BB%D0%B3%D0%BE%D1%80%D0%B8%D1%82%D0%BC_%D0%9B%D0%B5%D0%BC%D0%BF%D0%B5%D0%BB%D1%8F_%E2%80%94_%D0%97%D0%B8%D0%B2%D0%B0_%E2%80%94_%D0%92%D0%B5%D0%BB%D1%87%D0%B0)

Базовая промышленная реализация этих идей — [алгоритм DEFLATE]().


## To read

- https://habrahabr.ru/post/144200/
- http://www.drdobbs.com/cpp/data-compression-with-arithmetic-encodin/240169251?pgno=2
- https://habrahabr.ru/post/132683/
